{"version":3,"sources":["components/Gallery/PhotoCard/Modal/Modal.module.css","components/Gallery/PhotoCard/PhotoCard.module.css","components/App/App.module.css","components/SearchForm/SearchForm.jsx","services/api.js","components/Gallery/PhotoCard/Modal/Modal.jsx","components/Gallery/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/App/App.jsx","index.js","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css"],"names":["module","exports","SearchForm","state","inputValue","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","style","serchForm","input","type","placeholder","onChange","Component","getPosts","query","page","axios","get","Modal","backdropRef","createRef","handleKeyPress","e","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","imageUrl","backdrop","ref","onClick","role","modal","src","alt","PhotoCard","isModal","openModal","closeModal","webformatURL","likes","views","comments","downloads","largeImageURL","photoCard","image","stats","statsItem","fullscreenButton","Gallery","posts","onLoadMore","gallery","map","item","key","id","listItem","button","App","error","fetchPhoto","then","data","hits","catch","onScroll","scrollTo","wrapper","message","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9a6f7742.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__2ecQ1\",\"backdrop\":\"Modal_backdrop__2S5xl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__3CtA7\",\"image\":\"PhotoCard_image__3jFjV\",\"stats\":\"PhotoCard_stats__CAJQx\",\"statsItem\":\"PhotoCard_statsItem__3gvfm\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3YH-X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__1KgaZ\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    inputValue: '',\n  };\n\n  handleChange = event => {\n    this.setState({ inputValue: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({\n      inputValue: '',\n    });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n    return (\n      <form className={style.serchForm} onSubmit={this.handleSubmit}>\n        <input\n          className={style.input}\n          type=\"text\"\n          value={inputValue}\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst getPosts = (query, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=&key=14063635-4625509482d094b66ff8db6a2`,\n  );\n};\n\nexport default getPosts;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    imageUrl: PropTypes.string.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleBackdropClick = event => {\n    const { current } = this.backdropRef;\n    if (current && event.target !== current) return;\n    this.props.onClose();\n  };\n\n  render() {\n    const { imageUrl } = this.props;\n    return (\n      <>\n        <div\n          className={style.backdrop}\n          ref={this.backdropRef}\n          onClick={this.handleBackdropClick}\n          role=\"presentation\"\n        >\n          <div className={style.modal}>\n            <img src={imageUrl} alt=\"#\" />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './PhotoCard.module.css';\nimport Modal from './Modal/Modal';\n\nexport default class PhotoCard extends Component {\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  };\n\n  state = {\n    isModal: false,\n  };\n\n  openModal = () => {\n    this.setState({ isModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isModal: false });\n  };\n\n  render() {\n    const {\n      webformatURL,\n      likes,\n      views,\n      comments,\n      downloads,\n      largeImageURL,\n    } = this.props;\n    const { isModal } = this.state;\n    return (\n      <div className={style.photoCard}>\n        <div className={style.image}>\n          <img src={webformatURL} alt=\"randomPicture\" />\n        </div>\n\n        <div className={style.stats}>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\n        <button\n          type=\"button\"\n          className={style.fullscreenButton}\n          onClick={this.openModal}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n        {isModal && (\n          <Modal onClose={this.closeModal} imageUrl={largeImageURL} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from './PhotoCard/PhotoCard';\nimport style from './Gallery.module.css';\n\nconst Gallery = ({ posts, onLoadMore }) => (\n  <div>\n    <ul className={style.gallery}>\n      {posts.map(item => (\n        <li key={item.id} className={style.listItem}>\n          <PhotoCard {...item} />\n        </li>\n      ))}\n    </ul>\n    <button type=\"button\" className={style.button} onClick={onLoadMore}>\n      Load more\n    </button>\n  </div>\n);\nGallery.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onLoadMore: PropTypes.func.isRequired,\n};\nexport default Gallery;\n","import React, { Component } from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport getPosts from '../../services/api';\nimport Gallery from '../Gallery/Gallery';\nimport style from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n\n    page: 1,\n    posts: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    const { query, page } = this.state;\n    getPosts(query, page).then(({ data }) =>\n      this.setState({ posts: data.hits }),\n    );\n  }\n\n  fetchPhoto = (query, page, posts) => {\n    getPosts(query, page)\n      .then(({ data }) =>\n        this.setState({\n          posts: [...posts, ...data.hits],\n          query,\n          page,\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  };\n\n  onScroll = () => {\n    window.scrollTo(0, 1000);\n  };\n\n  onSubmit = inputValue => {\n    this.setState({ query: inputValue });\n    this.fetchPhoto(inputValue, 1, []);\n  };\n\n  onLoadMore = () => {\n    const { query, page, posts } = this.state;\n    this.fetchPhoto(query, page + 1, posts);\n    this.onScroll();\n  };\n\n  render() {\n    const { posts, error } = this.state;\n    return (\n      <div className={style.wrapper}>\n        <SearchForm onSubmit={this.onSubmit} />\n        {error && <p>Woops, something went wrong: {error.message}</p>}\n        {!!posts.length && (\n          <Gallery posts={posts} onLoadMore={this.onLoadMore} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__CoqNp\",\"listItem\":\"Gallery_listItem__rdMp6\",\"button\":\"Gallery_button__30MT5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"serchForm\":\"SearchForm_serchForm__2XSax\",\"input\":\"SearchForm_input__4beaT\"};"],"sourceRoot":""}